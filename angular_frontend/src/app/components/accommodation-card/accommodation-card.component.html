<div *ngIf="accommodation" class="w-72 group hover:-translate-y-2">
  <a class="clickable_card" (click)="onClick($event)">
    <div class="flex overflow-hidden flex-col flex-1 bg-white rounded-lg shadow-lg" >
        <img [src]="accommodation.main_photo_blob_url" [alt]="accommodation.main_photo_url" class="object-cover h-64">
        <button class="heart" (click)="heartClick = true">
          <img *ngIf="!accommodation.is_favourite" src="{{iconsUrl}}\\heart-empty.png" alt="add to favorites">
          <img *ngIf="accommodation.is_favourite" src="{{iconsUrl}}\\heart-full.png" alt="remove from favorites">
        </button>
      <div class="flex flex-col flex-1 items-center p-4 text-center">
        <span class="flex gap-x-2 justify-between items-baseline">
          <h4 class="inline group-hover:text-primary-dark">{{accommodation.title}}</h4>
          <span *ngIf="accommodation.rating" class="text-base"> &#x2605; {{accommodation.rating | number:'1.2-2'}}</span>
        </span>

        <p> 
          <span *ngIf="accommodation.city">{{accommodation.city}}</span>
          <span *ngIf="accommodation.city && accommodation.province">, </span>
          <span *ngIf="accommodation.province">{{accommodation.province}}</span>
          <span *ngIf="(accommodation.city || accommodation.province) && accommodation.country"> - </span> 
          <span *ngIf="accommodation.country">{{accommodation.country}}</span>
        </p>

        <!--pt-2 border-t border-grey-light-->
        <p class="my-1 text-sm tracking-wide uppercase text-grey hover:text-red">
          <span *ngIf="free" class="px-3 font-semibold text-green-600 bg-green-200 rounded-full">{{'accommodation-card.free' | translate | uppercase }}</span>
          <span *ngIf="!free">
            {{accommodation.min_price | currency:'EUR':'symbol-narrow':'1.2-2':'it-IT'}}
            <span *ngIf="priceRange"> - {{accommodation.max_price | currency:'EUR':'symbol-narrow':'1.2-2':'it-IT'}} </span>
          </span>
        </p>
        
        <button *ngIf="status != 'rejected' && status != 'pending'" type="button" (click)="book = true" class="mt-2 btn-primary">{{'accommodation-card.book' | translate}}</button>
        <div *ngIf="isAdmin && status === 'pending'" class="flex flex-row justify-around w-full">
          <button type="button" (click)="approve()"  class="btn-primary w-2/5">{{'accommodation-card.approve' | translate}}</button>
          <button type="button" (click)="reject()"  class="btn-primary w-2/5">{{'accommodation-card.reject' | translate}}</button>
        </div>
        <p *ngIf="status === 'rejected'">{{'accommodation-card.rejected' | translate}}</p>
        <p *ngIf="status === 'pending' && !isAdmin">{{'accommodation-card.pending' | translate}}</p>
      </div>  
    </div>  
  </a>
</div>
